"0","# Gets lap times from 2023, round 1:"
"0","# TODO: do an api request, and use 'total' key to figure out how many for loop iterations below"
"0","laptimes_raw.df <- map_df(0 : 1, function(i){"
"0","  Sys.sleep(0.5)"
"0","  "
"0","  # Generate offset"
"0","  offset_x = i * 1000"
"0","  "
"0","  # Round 1"
"0","  r1_laptimes.url <- paste0(""https://ergast.com/api/f1/"", YEAR, ""/"", ROUND, ""/laps.json?limit=1000&offset="", offset_x)"
"0","  "
"0","  # get json from url, navigate json to lap times, then unnest "
"0","  r1_lap.df <- unnest(fromJSON(r1_laptimes.url)$MRData$RaceTable$Races$Laps[[1]], cols = c(Timings))"
"0","  "
"0","  return(r1_lap.df)"
"0","})"
"0",""
"0","head(laptimes_raw.df)"
